<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hono Bay Doodle</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- p5 -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/addons/p5.sound.min.js"></script>
</head>

<body>
  <div id="cursor-shadow"></div>
  <main class="container">

    <!-- Header -->
    <section class="hero">
      <h1>Hono Bay Doodle</h1>
      <p class="subtitle">
        Inspired by Waikiki, Honolulu Â· Interactive Web Doodle Â· Completed Apr 2024
      </p>
    </section>

    <!-- Intro -->
    <section class="intro card">
      <h2>ğŸŒ´ About the Project</h2>
      <p>
        <strong>Hono Bay Doodle</strong> is an interactive p5.js art piece inspired by Google Doodle and
        the ever-changing weather of Honoluluâ€™s rainy season. Instead of a static illustration,
        users shape the island city through clicks, music, and unexpected visual events.
      </p>
      <ul>
        <li>Dynamic weather driven by user actions</li>
        <li>Living ocean waves and animated ship</li>
        <li>City lights, music, randomness, and surprise</li>
      </ul>
    </section>

    <!-- Subheader -->
    <section class="hero subheader">
      <h2>1000+ lines of .JS in 1 month</h2>
    </section>

    <!-- Video -->
    <section class="video-section card">
      <div class="video-container">
        <iframe
          src="https://www.youtube.com/embed/RlagCUIcet0"
          title="Hono Bay Doodle Demo"
          allowfullscreen>
        </iframe>
        <div class="video-shield"></div> </div>
    </section>

    <!-- Process Overview -->
    <section class="process card">
      <h2>ğŸ›  Design & Development Overview</h2>

      <h3>Ideation</h3>
      <p>
        The project began with a moving cloud experiment in p5.js and evolved from a personal trip
        to Waikiki during Honoluluâ€™s rainy season. The contrast between sunshine, sudden rain,
        nature, and urban life shaped the core idea.
      </p>

      <h3>Interaction Design</h3>
      <p>
        The doodle emphasizes interaction over realism. Smoke bubbles from a passing ship influence
        cloud density and rainfall, while buttons and clicks allow users to reshape lighting,
        weather, and color in real time.
      </p>

      <h3>Iteration</h3>
      <p>
        Features were developed modularlyâ€”buildings, ocean, ship, cloudâ€”allowing new behaviors to
        be added without breaking existing ones. Randomness was intentionally introduced to ensure
        every session feels unique.
      </p>
    </section>

    <!-- Sketch -->
    <section class="sketch-wrapper">
      <div class="sketch-header">
        <button id="fullscreenBtn">View Full Screen</button>
      </div>

      <div id="sketch-container" class="card sketch-card"></div>
    </section>

    <!-- Ideation -->
    <section class="ideation card">
      <h2> â“ Ideation: Why build this doodle? </h2>
      <p>
        It all started with a simple moving cloud in p5.js on OpenProcessing, 
          sparked by memories of a December trip to Waikiki Beach, 
          where the weather flips moods almost hourly. 
          During one project, I experimented with an interactive time-and-weather system, 
          letting users experience the islandâ€™s day-to-night transitions and its rainiest moments.
      </p>
      <p>
        For this project, I took it up a notch. 
          I wanted users to truly feel the energy and calm of Honolulu in one immersive experience. 
          The result, â€œHono Bay Doodleâ€, is a playful web doodle with music capturing the islandâ€™s liveliest season, 
          letting users interact with colors, time, and weatherâ€”and stumble upon delightful, unexpected surprises along the way.
      </p>
    </section>

     <!-- Building Process -->
    <section class="prototype card">
      <h2> ğŸ›  Building Process </h2>
      <h3>Stage 1: Sky, Landscape, Buildings</h3>
      <p>
        First, I added a cluster of buildings at the lower left to reflect Honoluluâ€™s mix of urban and natural landscapes. 
          The tall buildings along the bay, offering ocean views, are a defining feature of Waikiki. 
          The windows with lights on are randomly generated based on the time of dayâ€”more lights appear at night than during the day.
      </p>
      <img src="images/stage1.1.png" alt="Stage 1.1">
      <img src="images/stage1.2.png" alt="Stage 1.2">
      <p>
        To make the scene more interactive, I added a â€œLightsâ€ button in the center. 
          Pressing it reshuffles which windows are lit, 
          letting users sync the lights with the rhythm of the island-style song â€œUmaâ€ by J Boog (Aug 2023). 
          Additionally, clicking on any of the four buildings randomly changes its color, adding another layer of playful interaction.
      </p>
      <img src="images/stage1.3.png" alt="Stage 1.3">
      <img src="images/stage1.4.png" alt="Stage 1.4">

      <h3>Stage 2: Beach, Ocean, Ship</h3>
      <p>
        Next, I added the beach, ocean, and a shipâ€”elements that left the strongest impression during my trip. 
          Using math functions, I created an ocean with dynamic waves and made the ship ride naturally along them.
      </p>
      <img src="images/stage2.1.png" alt="Stage 2.1">
      <img src="images/stage2.2.png" alt="Stage 2.2">
      <p>
        The ship was drawn step by step, starting from a rectangle base, then the upper structure, and finally the funnel. 
          The trickiest part was determining the coordinates of each moving vertex. 
          By combining calculations on sketch paper with helper functions and global class variables in the code
          â€”and iterating with AI assistanceâ€”
          I was able to accurately compute the (x, y) positions of every vertex based on the shipâ€™s current location.
      </p>
      <img src="images/stage2.3.1.png" alt="Stage 2.3.1">
      <img src="images/stage2.3.2.png" alt="Stage 2.3.2">
      <img src="images/stage2.3.3.png" alt="Stage 2.3.3">

      <h3>Stage 3: Smoke Bubbles & Rain</h3>
      <p>
        This was the most challenging part of the design. 
          After adding the ship, I wanted users to interact with it in a way that would influence the weather. 
          To do this, I created smoke bubbles that affect cloud thickness, which in turn changes the intensity of the rain.
      </p>
      <img src="images/stage3.1.png" alt="Stage 3.1">
      <img src="images/stage3.2.png" alt="Stage 3.2">
      <p>
        Clicking the ship releases three smoke bubbles from its funnel. 
          When a bubble hits the cloud, it increases the rainâ€”more bubbles make the cloud darker and the rain heavier. 
          The current cloud thickness, representing the number of bubbles, is shown at the bottom center. 
          Users can also click the â€œRainyâ€ button to generate a random rain level with a default number of bubbles, even without interacting with the ship.
      </p>
      <img src="images/stage3.3.png" alt="Stage 3.3">
      <img src="images/stage3.4.png" alt="Stage 3.4">
      <img src="images/stage3.5.png" alt="Stage 3.5">
    </section>

    <!-- Ending -->
    <section class="hero ending">
      <h1> THE END </h1>
      <p class="subtitle">
        ğŸ  How to pronounce HumuhumunukunukuÄpuaÊ»a?
      </p>
    </section>

  </main>

  <!-- Sketch -->
  <script src="mySketch.js"></script>

  <!-- Interaction -->
    <script>
      const shadow = document.getElementById('cursor-shadow');
      const cards = document.querySelectorAll('.card');
      const videoSection = document.querySelector('.video-section');
    
      // 1. Standard Follow Logic
      document.addEventListener('mousemove', (e) => {
        shadow.style.left = e.clientX + 'px';
        shadow.style.top = e.clientY + 'px';
      });
    
      // 2. Card Hover Logic (Flashlight toggle)
      cards.forEach(card => {
        card.addEventListener('mouseenter', () => shadow.classList.add('flashlight'));
        card.addEventListener('mouseleave', () => shadow.classList.remove('flashlight'));
      });
    
      // 3. THE FIX: Hide shadow when touching the video area
      // We use the videoSection (the card containing the video) for a cleaner trigger
      videoSection.addEventListener('mouseenter', () => {
        shadow.classList.add('hidden');
      });
    
      videoSection.addEventListener('mouseleave', () => {
        shadow.classList.remove('hidden');
      });
    
      // Fullscreen logic 
      // When "View Full Screen" button is clicked, request fullScreenChange
      document.getElementById("fullscreenBtn").onclick = () => {
        if (!document.fullscreenElement) {
            const container = document.getElementById("sketch-container");
            container.requestFullscreen();  // enter fullscreen
        } else {
            document.exitFullscreen();      // exit fullscreen
        }
      };

      // Fullscreen enter / exit (ESC, button, system)
      document.addEventListener('fullscreenchange', () => {
        toggleFullscreen(); // Call the function from mySketch.js
      });

      // Window resize (browser resize, phone rotation)
      window.addEventListener("resize", () => {
        if (!document.fullscreenElement) { // Only react when NOT in fullscreen
          toggleFullscreen();
        }
      });

    </script>
</body>
</html>
